jQuery.Draggable=function(a,b){function c(a){return g=!1,f(document).bind("mousemove",d).bind("mouseup",e),i=a.pageX,j=a.pageY,!1}function d(b){if(g||h.beforeDrag(b),!b.undraggable){g=!0;var c=parseInt(a.offset().left),d=parseInt(a.css("top")),e=b.pageX-i,f=b.pageY-j;return"y"==h.axis?e=0:"x"==h.axis&&(f=0),a.css({left:c+e,top:d+f}),h.onDrag(c,d,e,f),i=b.pageX,j=b.pageY,!1}}function e(a){return f(document).unbind("mousemove",d).unbind("mouseup",e),g?(h.afterDrag(a),!1):!0}var f=jQuery,g=!1;a=this.ele=f(a),a[0]._draggable&&a[0]._draggable.destroy(),a[0]._draggable=this;var h=this.options=f.extend({handle:"",cursor:"move",axis:"",onDrag:function(){return!0},beforeDrag:function(){},afterDrag:function(){}},b||{});h.handle=h.handle?f(h.handle,a):a,h.handle.css({cursor:h.cursor});var i,j;this.destroy=function(){h.handle.unbind("mousedown",c)},h.handle.bind("mousedown",c)};